<!doctype html>
<html data-bs-theme="dark" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>XIV Map Copilot</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./settings.js"></script>
    <script src="./utilities.js"></script>
    <script src="./xiv_parsers.js"></script>
    <script src="./copilot.js"></script>
  </head>
  <body style="height: 96vh;" onload="init()">
    <div class="container-flex p-3 m-0 h-100 w-100">
      <div id="data-loader" class="row p-0 align-items-start">
        <div class="col p-2 input-group mb-12">
          <div class="input-group-prepend">
            <button class="btn btn-primary" type="button" onclick="load_data()">Load data</button>
          </div>
          <input id="data-location" type="text" class="form-control" placeholder="Data URL" aria-label="Data URL" />
        </div>
      </div>
      <div id="main-area" class="row p-0 h-100 w-100 align-items-start" style="position: relative;">
        <div id="expac-tabs-buttons" class="col-2 p-2 nav flex-column nav-pills h-100" role="tablist" aria-orientation="vertical" style="position: relative;">
          <button class="nav-link active" id="expac-tabs-arr-button" data-bs-toggle="pill" data-bs-target="#expac-tabs-arr-content" type="button" role="tab" aria-controls="expac-tabs-arr-content" aria-selected="true">ARR</button>
          <button class="nav-link" id="expac-tabs-hw-button" data-bs-toggle="pill" data-bs-target="#expac-tabs-hw-content" type="button" role="tab" aria-controls="expac-tabs-hw-content" aria-selected="false">Heavensward</button>
          <button class="nav-link" id="expac-tabs-sb-button" data-bs-toggle="pill" data-bs-target="#expac-tabs-sb-content" type="button" role="tab" aria-controls="expac-tabs-sb-content" aria-selected="false">Stormblood</button>
          <button class="nav-link" id="expac-tabs-shb-button" data-bs-toggle="pill" data-bs-target="#expac-tabs-shb-content" type="button" role="tab" aria-controls="expac-tabs-shb-content" aria-selected="false">Shadowbringers</button>
          <button class="nav-link" id="expac-tabs-ew-button" data-bs-toggle="pill" data-bs-target="#expac-tabs-ew-content" type="button" role="tab" aria-controls="expac-tabs-ew-content" aria-selected="false">Endwalker</button>
          <button class="nav-link" id="setting-tabs-maps-button" data-bs-toggle="pill" data-bs-target="#setting-tabs-maps-content" type="button" role="tab" aria-controls="setting-tabs-maps-content" aria-selected="false" onclick="name_a_friend();focus_click(event,'input-new-map-string');">Map List</button>
          <button class="nav-link" id="setting-tabs-nicknames-button" data-bs-toggle="pill" data-bs-target="#setting-tabs-nicknames-content" type="button" role="tab" aria-controls="setting-tabs-nicknames-content" aria-selected="false" onclick="name_a_friend();focus_click(event, 'input-new-nickname-name');">Nicknames</button>
          <button class="nav-link" id="setting-tabs-settings-button" data-bs-toggle="pill" data-bs-target="#setting-tabs-settings-content" type="button" role="tab" aria-controls="setting-tabs-settings-content" aria-selected="false">Settings</button>
        </div>
        <div id="expac-tabs-content" class="col p-2 tab-content h-100 w-100" style="position: relative;">
          <div class="tab-pane fade show active" id="expac-tabs-arr-content" role="tabpanel" aria-labelledby="expac-tabs-arr-button">A Realm Reborn Placeholder Data</div>
          <div class="tab-pane fade" id="expac-tabs-hw-content" role="tabpanel" aria-labelledby="expac-tabs-hw-button">Heavensward Placeholder Data</div>
          <div class="tab-pane fade" id="expac-tabs-sb-content" role="tabpanel" aria-labelledby="expac-tabs-sb-button">Stormblood Placeholder Data</div>
          <div class="tab-pane fade" id="expac-tabs-shb-content" role="tabpanel" aria-labelledby="expac-tabs-shb-button">Shadowbringers Placeholder Data</div>
          <div class="tab-pane fade" id="expac-tabs-ew-content" role="tabpanel" aria-labelledby="expac-tabs-ew-button">Endwalker Placeholder Data</div>
          <div class="tab-pane fade" id="setting-tabs-maps-content" role="tabpanel" aria-labelledby="setting-tabs-maps-button">
            <div class="d-flex flex-column">
              <div class="input-group p-2">
                <div class="input-group-prepend">
                  <button class="btn btn-primary" type="button" onclick="map_add_flag()">Add map</button>
                </div>
                <input type="text" class="form-control" id="input-new-map-string" onkeyup="map_keyup(event);" placeholder="[21:42] (Warrior Oflight) >The Ruby Sea ( 5.3  , 14.8 )">
              </div>
              <div class="form-group p-2">
                <label for="map-list-selectable">Current map list:</label>
                <select multiple class="form-control" id="map-list-selectable" size=10>
                </select>
                <button class="btn btn-outline-info" type="button" onclick="map_select_move_up()">Move Up</button>
                <button class="btn btn-outline-info" type="button" onclick="map_select_move_down()">Move Down</button>
                <button class="btn btn-warning" type="button" onclick="map_remove_selected()">Remove selected</button>
                <button class="btn btn-danger" type="button" onclick="map_clear_all()">Clear all</button>
              </div>
              <div class="form-group p-2">
                <textarea class="form-control" id="input-new-map-bulk" rows="6"></textarea>
                <button class="btn btn-primary" type="button" onclick="map_bulk_import()">Bulk import</button>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="setting-tabs-nicknames-content" role="tabpanel" aria-labelledby="setting-tabs-nicknames-button">
            <div class="d-flex flex-column">
              <div class="input-group p-2">
                <div class="input-group-prepend">
                  <button class="btn btn-primary" type="button" onclick="nickname_add()">Add nickname</button>
                </div>
                <input type="text" class="form-control" id="input-new-nickname-name" onkeyup="focus_enter(event,'input-new-nickname-world');" placeholder="Warrior Oflight">
                <input type="text" class="form-control" id="input-new-nickname-world" onkeyup="focus_enter(event,'input-new-nickname-nickname');" placeholder="Diabolos">
                <input type="text" class="form-control" id="input-new-nickname-nickname" onkeyup="nickname_keyup(event);focus_enter(event,'input-new-nickname-name');" placeholder="Donut Acquisition Squad">
              </div>
              <div class="form-group p-2">
                <label for="nickname-list-selectable">Current nickname list:</label>
                <select multiple class="form-control" id="nickname-list-selectable" size=10>
                </select>
                <button class="btn btn-warning" type="button" onclick="nickname_remove_selected()">Remove selected</button>
                <button class="btn btn-danger" type="button" onclick="nickname_clear_all()">Clear all</button>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="setting-tabs-settings-content" role="tabpanel" aria-labelledby="setting-tabs-settings-button">
            <div class="d-flex flex-column">
              <div class="form-group p-2 me-auto">
                <button class="btn btn-primary" onclick="jedi_sith()">Toggle dark/light mode</button>
              </div>
              <div class="form-group p-2">
                <label for="setting-data-url">Preload data pack</label>
                <input type="text" class="form-control" id="setting-data-url" aria-describedby="setting-data-url-help" placeholder="https://example.com/maps/index.json">
                <small id="setting-data-url-help" class="form-text text-muted">This data pack will be preloaded at application start, instead of having to enter the field at the top every time</small>
              </div>
              <div class="form-group p-2">
                <label for="setting-home-world">Home world</label>
                <input type="text" class="form-control" id="setting-home-world" aria-describedby="setting-home-world-help" placeholder="Diablos">
                <small id="setting-home-world-help" class="form-text text-muted">Used to parse character names from your home server under certain conditions</small>
              </div>
              <div class="form-group row p-2">
                <div class="col-auto">
                  <label class="sr-only" for="setting-flag-font-size">Flag font size</label>
                  <div class="input-group">
                    <input type="number" class="form-control mb-2" id="setting-flag-font-size" placeholder="20">
                      <div class="input-group-append">
                      <div class="input-group-text">px</div>
                    </div>
                  </div>
                </div>
                <div class="col-auto">
                  <label class="sr-only" for="setting-flag-mark-size">Flag mark size</label>
                  <div class="input-group">
                    <input type="number" class="form-control mb-2" id="setting-flag-mark-size" placeholder="20">
                      <div class="input-group-append">
                      <div class="input-group-text">px</div>
                    </div>
                  </div>
                </div>
                <div class="col-auto">
                  <input type="checkbox" class="form-check-input" id="setting-flag-margin-over">
                  <label class="form-check-label" for="setting-flag-margin-over" aria-describedby="setting-flag-margin-over-help">Move margin overflow</label>
                  <br />
                  <small id="setting-flag-margin-over-help" class="form-text text-muted">Enabling this option will change the text anchor of flags close to the right margin</small>
                </div>
              </div>
              <div class="form-group p-2">
                <input type="checkbox" class="form-check-input" id="setting-home-world-hide">
                <label class="form-check-label" for="setting-home-world-hide" aria-describedby="setting-home-world-hide-help">Hide home world</label>
                <br />
                <small id="setting-home-world-hide-help" class="form-text text-muted">Enabling this option will hide the name of your home world on some screens</small>
              </div>
              <div class="form-group p-2">
                <input type="checkbox" class="form-check-input" id="setting-session-cache">
                <label class="form-check-label" for="setting-session-cache" aria-describedby="setting-session-cache-help">Enable session cache</label>
                <br />
                <small id="setting-session-cache-help" class="form-text text-muted">Enabling this option will cache data you enter (such as map flags) to the session storage in your browser.  This preserves any data you enter against accidental refreshes.  Your browser will automatically clear this data at the end of your web session.  If this is disabled, any page refreshes will clear the aforementioned data.</small>
              </div>
              <div class="form-group p-2 me-auto">
                <button class="btn btn-primary" onclick="apply_settings()">Apply</button>
                <button class="btn btn-secondary" onclick="persist_settings()">Persist</button>
                <button class="btn btn-danger" onclick="reset_settings()">Reset</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
